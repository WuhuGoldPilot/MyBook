<!--
 * @Author: jhliang
 * @Descripttion: In User Settings Edit
 * @LastEditTime: 2021-03-12 14:42:34
 * @Date: 2021-03-12 14:15:58
 * @LastEditors: jhliang
 * @FilePath: \MyBook\Markdown\collaboration\负责模块设计和思路.md
-->

# 负责模块

1. 工作项相关接口自定义字段加入后的重构，包含新建、修改、删除、查询等

2. 查询管理相关接口自定义字段加入后的重构

# 设计思路

1. 对于工作项相关的加入自定义字段后，设计思路分为两部分，一部分是系统字段的处理，一部分是自定义字段的处理。系统字段依然存入到之前的issue表；而自定义字段存到fd_field_value表，通过issue_id和filed_id关联，其中field_id是object_field表的外键。

2. 工作项查询关联也分为系统字段和自定义字段分别处理，其中系统字段尽量做分类处理，如果不能分类的就单独抽出做特殊化处理；自定义字段可以根据field_type做分类，然后再根据字段类型去生成相应的查询sql。

# 难点和存在问题

1. 现在存在的最主要问题是自定义字段这边的设计根本没定下来，也没有一个明确的方案，经常会变动，自定义字段一变动，这边的影响会非常大，影响的逻辑是致命性的。

2. 另外一个问题是关于自定义字段的生成sql语句较为负责，类型和操作都比较多。
